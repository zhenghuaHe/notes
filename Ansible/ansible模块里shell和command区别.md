# shell vs   command

```
1. command 模块命令将不会使用 shell 执行. 因此, 像 $HOME 这样的变量是不可用的。还有像<, >, |, ;, &都将不可用。
2. shell 模块通过shell程序执行， 默认是/bin/sh, <, >, |, ;, & 可用。但这样有潜在的 shell 注入风险， 后面会详谈.
3. command 模块更安全，因为他不受用户环境的影响。 也很大的避免了潜在的 shell 注入风险
```

两个模块都要避免使用， 你应该优先考虑更具体的 ansible 模块。 比如用 command 或者 shell 执行 yum 命令前， 应该先了解到直接的 yum 模块。使用具体模块比执行命令要优雅很多， 因为这些模块设计都是具有幂等性的, 并满足其他标准, 如异常处理等
